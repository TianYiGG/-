<template>
	<div>
		<div class="head">
			<div class="header">
				<div class="head-frist"></div>
				<div class="head-content"><input type="text" placeholder="搜索"></div>
				<div class="head-last"></div>
			</div>
			<div class="swiper-container banner">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<img src="../assets/img/index1.jpg">
					</div>
					<div class="swiper-slide">
						<img src="../assets/img/index2.jpg">
					</div>
					<div class="swiper-slide">
						<img src="../assets/img/index3.jpg">
					</div>
				</div>
				<div class="swiper-pagination"></div>
			</div>
		</div>
		<div class="content">
			<div class="res">
				<div class="res-warp">
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index01.jpg" alt="" />
						</div>
						<div class="res-title">
							当季热卖
						</div>
					</a>
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index02.jpg" alt="" />
						</div>
						<div class="res-title">
							限时快抢
						</div>
					</a>
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index03.jpg" alt="" />
						</div>
						<div class="res-title">
							团购立省
						</div>
					</a>
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index04.jpg" alt="" />
						</div>
						<div class="res-title">
							省心套装
						</div>
					</a>
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index05.jpg" alt="" />
						</div>
						<div class="res-title">
							签到有礼
						</div>
					</a>
				</div>
				<div class="res-warp">
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index06.jpg" alt="" />
						</div>
						<div class="res-title">
							美妆护肤
						</div>
					</a>
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index07.jpg" alt="" />
						</div>
						<div class="res-title">
							裙装裤装
						</div>
					</a>
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index08.jpg" alt="" />
						</div>
						<div class="res-title">
							TOP鞋包
						</div>
					</a>
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index09.jpg" alt="" />
						</div>
						<div class="res-title">
							气质男装
						</div>
					</a>
					<a class="res-item">
						<div class="res-img">
							<img src="../assets/img/index10.jpg" alt="" />
						</div>
						<div class="res-title">
							充值中心
						</div>
					</a>
				</div>
			</div>
			<div class="swiper-container case">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<ul class="good-list">
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>粉色淑女百搭</p>
										</div>
										<img src="../assets/img/list.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">夏末亏本清仓</p>
										<div class="go-btn">去拼团</div>
								</div>
							</li>
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>显瘦垂感好</p>
										</div>
										<img src="../assets/img/list1.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">显瘦百搭阔腿裤</p>
										<div class="go-btn">去拼团</div>
								</div>
							</li>
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>带胸垫 透气</p>
										</div>
										<img src="../assets/img/list2.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">2件装百搭抹胸</p>
										<div class="go-btn">去拼团</div>
								</div>
							</li>
						</ul>
					</div>
					<div class="swiper-slide">
						<ul class="good-list">
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>粉色淑女百搭</p>
										</div>
										<img src="../assets/img/list.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">夏末亏本清仓</p>
									<div class="go-btn">去拼团</div>
								</div>
							</li>
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>显瘦垂感好</p>
										</div>
										<img src="../assets/img/list1.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">显瘦百搭阔腿裤</p>
										<div class="go-btn">去拼团</div>
								</div>
							</li>
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>带胸垫 透气</p>
										</div>
										<img src="../assets/img/list2.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">2件装百搭抹胸</p>
										<div class="go-btn">去拼团</div>
								</div>
							</li>
						</ul>
					</div>
					<div class="swiper-slide">
						<ul class="good-list">
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>粉色淑女百搭</p>
										</div>
										<img src="../assets/img/list.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">夏末亏本清仓</p>
									<div class="go-btn">去拼团</div>
								</div>
							</li>
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>显瘦垂感好</p>
										</div>
										<img src="../assets/img/list1.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">显瘦百搭阔腿裤</p>
										<div class="go-btn">去拼团</div>
								</div>
							</li>
							<li class="goods-item">
								<a href="" class="pin-goods-item">
									<div class="sha">
										<div class="pin-top-icon">
											<p>带胸垫 透气</p>
										</div>
										<img src="../assets/img/list2.jpg" />
									</div>
								</a>
								<div class="goods-info">
									<p class="goods-title">2件装百搭抹胸</p>
										<div class="go-btn">去拼团</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
				<div class="swiper-pagination"></div>
			</div>
			<div class="product-list" ref="productList">
				<ul>
					<li v-for="item in list" :key="item._id" @click="$router.push(`/details/${item._id}`)">
						<img :src="`${$store.state.serverIP}${item.bannerImgs[0]}`">
						<p class="brief" v-text="item.brief"></p>
						<div class="wrap">
							<span class="name" v-text="item.name"></span>
							<span class="price">
								<i>¥</i>
								<em v-text="item.price"></em>
							</span>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
</template>

<script type="text/ecmascript-6">
	import Swiper from 'swiper';
        import 'swiper/dist/css/swiper.min.css';
        import BetterScroll from 'better-scroll';
        import axios from 'axios';

        export default {
                data(){
			return{
				list:[],
				curCid:0,
			}
                },
	        created(){
                        var url = `${this.$store.state.serverIP}/product/list`;
                        axios.post(url)
                                .then(result => result.data)
                                .then(result => {
                                        this.list =result;
                                })
                                .catch(err => console.log(err));
	        },
                mounted(){
                        var mySwiper = new Swiper ('.banner',{
                                autoplay:true,
                                loop: true,
	                        speed:1000,
                                pagination: {
                                        el: '.swiper-pagination',
                                },
                        });
                        var mySwiper = new Swiper ('.case',{
                                loop: true,
                                speed:1000,
                                pagination: {
                                        el: '.swiper-pagination',
                                },
                        });
                }
        };
</script>

<style lang="stylus" rel="stylesheet/stylus" scoped>
	.content
		width:100%
		.case
			padding-bottom:0.5rem
			.swiper-pagination
				text-align:center
				padding:0
	.header
		display:flex
		justify-content space-between
		height:0.9rem
		line-height 0.9rem
		font-size:0.36rem
		box-sizing border-box
		padding:0.1rem
		.head-frist
			background-image: url('../assets/img/index1.png')
			background-repeat:no-repeat
			background-position:15px 15px
			background-size 60%
			width: 0.9rem
			height: 0.9rem
		.head-content
			flex-grow: 1
			input
				width:100%
				height:100%
				vertical-align middle
				display:block
				font-size:0.24rem
				border-radius:0.3rem
				outline none
				border:none
				background-color:#eee
		.head-last
			width: 0.9rem
			height: 0.9rem
			background-image: url('../assets/img/gouwuce.png')
			background-repeat:no-repeat
			background-position:15px 15px
			background-size 60%
	.res-warp
		padding: 0.28rem 0.1rem 0.2rem
		display: flex
		justify-content: center
		.res-item
			width: 20%
			text-align: center
			.res-img
				display: inline-block
				width: 1rem
				height: 1rem
				img
					width: 100%
					height: 100%
			.res-title
				color: rgb(96, 96, 96)
				font-size: 0.2rem
	.product-list
		flex-grow: 1
		flex-shrink: 1
		border-top: 1px solid #ddd
		overflow: hidden
		ul
			display: flex
			flex-wrap: wrap
			justify-content: space-between
			li
				width: 49%
				border-radius:10px
				overflow:hidden
				font-size: 0
				margin-bottom: 0.2rem
				&.more
					font-size: 0.32rem
				img
					width: 100%
				p.brief
					font-size: 0.2rem
					height: 0.6rem
					line-height: 0.6rem
					background: rgb(245,242,240)
					text-overflow: ellipsis
					white-space: nowrap
					overflow: hidden
				.wrap
					padding 0 0.15rem
					span.name
						height: 0.4rem
						line-height: 0.4rem
						font-size: 0.26rem
						font-weight: normal
					span.price
						float:right
						font-size: 0.2rem
						&>*
							color: red
							font-style: normal
						em
							font-size: 0.32rem
	.swiper-slide
		img
			width:100%
		.good-list
			width: 100%
			padding-bottom: 0.5rem
			.goods-item
				width: 28%
				padding: 0 0.2rem
				float: left
				margin-bottom: 2.5px
				.pin-goods-item
					display: block
					position: relative

				.hot-sell
					position: absolute
					top: 0.03rem
					left: 0.04rem
					width: 0.45rem
					height: 0.45rem
				.sha
					img
						width: 100%
				.pin-top-icon
					position: absolute
					bottom: 0
					left: 0
					text-align: center
					min-width: 50%
					background: linear-gradient(to right, #fe8a42, #ff496c)
					border-top-right-radius: 5px
					padding: 0 7px
					font-weight: 400
					height: 0.4rem
					line-height: 0.4rem
					&.p
						font-size: 0.05rem
						color: #fff
						white-space: nowrap
						text-overflow: ellipsis
						overflow: hidden
				.goods-info
					padding: 0 4px
				.goods-title
					white-space: nowrap
					text-overflow: ellipsis
					overflow: hidden
					color: #000
					font-size: 0.25rem
					padding-top: 0.04rem
				.go-btn
					background-color: #ff5777
					color: #fff
					text-align: center
					padding: 5px
					font-size: 0.3rem
					font-weight: 400
					letter-spacing: 0.5px
					border-radius: 0.5rem
					width:100%

	.swiper-pagination
		text-align left
		padding-left 0.5rem
		padding-bottom 0.1rem
		span
			margin-right 10px
</style>